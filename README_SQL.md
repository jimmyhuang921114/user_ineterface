# ğŸ¥ é†«é™¢è—¥ç‰©ç®¡ç†ç³»çµ± - SQLè³‡æ–™åº«ç‰ˆæœ¬

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-green.svg)](https://fastapi.tiangolo.com/)
[![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0+-red.svg)](https://www.sqlalchemy.org/)
[![SQLite](https://img.shields.io/badge/SQLite-3.0+-lightgrey.svg)](https://sqlite.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

å°ˆç‚ºé†«é™¢å’Œè¨ºæ‰€è¨­è¨ˆçš„ç¾ä»£åŒ–è—¥ç‰©ç®¡ç†ç³»çµ±ï¼Œæ¡ç”¨ **SQLè³‡æ–™åº«** æ¶æ§‹ï¼Œæä¾›å®Œæ•´çš„CRUDæ“ä½œã€è³‡æ–™é—œè¯æ€§ã€äº¤æ˜“å®‰å…¨æ€§å’Œæ•ˆèƒ½å„ªåŒ–ã€‚

---

## âœ¨ æ–°åŠŸèƒ½ç‰¹è‰² (SQLç‰ˆæœ¬)

### ğŸ—„ï¸ å¼·å¤§çš„è³‡æ–™åº«åŠŸèƒ½
- **é—œè¯å¼è³‡æ–™åº«**: SQLite/PostgreSQL/MySQLæ”¯æ´
- **è³‡æ–™å®Œæ•´æ€§**: Foreign Keyç´„æŸå’Œäº‹å‹™å®‰å…¨
- **æŸ¥è©¢æ•ˆèƒ½**: ç´¢å¼•å„ªåŒ–å’Œè¤‡é›œæŸ¥è©¢æ”¯æ´
- **è³‡æ–™å‚™ä»½**: å®Œæ•´çš„è³‡æ–™åº«å‚™ä»½å’Œé‚„åŸ
- **æ­·å²è¨˜éŒ„**: å®Œæ•´çš„æ“ä½œæ—¥èªŒå’Œå¯©è¨ˆè¿½è¹¤
- **è»Ÿåˆªé™¤**: è³‡æ–™æ¨™è¨˜åˆªé™¤ï¼Œå¯æ¢å¾©

### ğŸ’¡ æ™ºèƒ½åŠŸèƒ½
- **ğŸ¤– AIæç¤ºè©**: æ¯ç¨®è—¥ç‰©å¯è¨­å®šAIæ™ºèƒ½æ¨è–¦æç¤º
- **ğŸ“Š çµ±è¨ˆåˆ†æ**: åº«å­˜è¶¨å‹¢ã€ä½¿ç”¨çµ±è¨ˆã€è™•æ–¹åˆ†æ
- **âš ï¸ æ™ºèƒ½è­¦å‘Š**: åº«å­˜ä¸è¶³ã€éæœŸæé†’ã€é‡è¤‡ç”¨è—¥
- **ğŸ” é«˜ç´šæœå°‹**: å¤šæ¢ä»¶çµ„åˆæŸ¥è©¢ã€æ¨¡ç³Šæœå°‹
- **ğŸ“ˆ å ±è¡¨ç”Ÿæˆ**: è‡ªå‹•ç”Ÿæˆå„ç¨®ç®¡ç†å ±è¡¨

### ğŸ”’ ä¼æ¥­ç´šå®‰å…¨
- **æ“ä½œè¨˜éŒ„**: æ¯å€‹æ“ä½œéƒ½æœ‰å®Œæ•´çš„ç³»çµ±æ—¥èªŒ
- **IPè¿½è¹¤**: è¨˜éŒ„æ“ä½œä¾†æºIPå’Œç€è¦½å™¨è³‡è¨Š
- **è³‡æ–™é©—è­‰**: åš´æ ¼çš„è³‡æ–™é©—è­‰å’Œç´„æŸ
- **å‚™ä»½æ©Ÿåˆ¶**: è‡ªå‹•è³‡æ–™åº«å‚™ä»½åŠŸèƒ½

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### ğŸ“Š è³‡æ–™åº«è¨­è¨ˆ
```sql
ğŸ—„ï¸ è³‡æ–™åº«çµæ§‹
â”œâ”€â”€ medicine_basic          # åŸºæœ¬è—¥ç‰©è³‡æ–™è¡¨
â”‚   â”œâ”€â”€ id (PK)            # ä¸»éµ
â”‚   â”œâ”€â”€ name (UNIQUE)      # è—¥ç‰©åç¨±
â”‚   â”œâ”€â”€ amount             # åº«å­˜æ•¸é‡
â”‚   â”œâ”€â”€ position           # å„²å­˜ä½ç½®
â”‚   â”œâ”€â”€ prompt            # AIæç¤ºè© â­ æ–°åŠŸèƒ½
â”‚   â””â”€â”€ is_active         # è»Ÿåˆªé™¤æ¨™è¨˜
â”‚
â”œâ”€â”€ medicine_detailed       # è©³ç´°è—¥ç‰©è³‡æ–™è¡¨
â”‚   â”œâ”€â”€ id (PK)
â”‚   â”œâ”€â”€ medicine_id (FK)   # é—œè¯åŸºæœ¬è—¥ç‰©
â”‚   â”œâ”€â”€ description        # è©³ç´°æè¿°
â”‚   â”œâ”€â”€ side_effects      # å‰¯ä½œç”¨
â”‚   â””â”€â”€ storage_conditions # å„²å­˜æ¢ä»¶
â”‚
â”œâ”€â”€ prescriptions          # è™•æ–¹ç±¤ä¸»è¡¨
â”‚   â”œâ”€â”€ id (PK)
â”‚   â”œâ”€â”€ patient_name       # ç—…æ‚£å§“å
â”‚   â”œâ”€â”€ patient_id        # ç—…æ‚£ç·¨è™Ÿ
â”‚   â”œâ”€â”€ doctor_name       # é†«ç”Ÿå§“å
â”‚   â””â”€â”€ status            # è™•æ–¹ç‹€æ…‹
â”‚
â”œâ”€â”€ prescription_medicines  # è™•æ–¹è—¥ç‰©æ˜ç´°è¡¨
â”‚   â”œâ”€â”€ prescription_id (FK)
â”‚   â”œâ”€â”€ medicine_id (FK)
â”‚   â”œâ”€â”€ dosage            # åŠ‘é‡
â”‚   â”œâ”€â”€ frequency         # é »ç‡
â”‚   â””â”€â”€ duration          # ç™‚ç¨‹
â”‚
â”œâ”€â”€ stock_logs             # åº«å­˜ç•°å‹•è¨˜éŒ„è¡¨
â”‚   â”œâ”€â”€ medicine_id (FK)
â”‚   â”œâ”€â”€ action            # æ“ä½œé¡å‹
â”‚   â”œâ”€â”€ quantity_before   # ç•°å‹•å‰æ•¸é‡
â”‚   â”œâ”€â”€ quantity_change   # ç•°å‹•æ•¸é‡
â”‚   â””â”€â”€ quantity_after    # ç•°å‹•å¾Œæ•¸é‡
â”‚
â””â”€â”€ system_logs            # ç³»çµ±æ“ä½œè¨˜éŒ„è¡¨
    â”œâ”€â”€ action            # æ“ä½œé¡å‹
    â”œâ”€â”€ table_name        # è³‡æ–™è¡¨åç¨±
    â”œâ”€â”€ ip_address        # æ“ä½œIP
    â””â”€â”€ created_at        # æ“ä½œæ™‚é–“
```

### ğŸ”„ æŠ€è¡“æ¶æ§‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å‰ç«¯ç•Œé¢                      â”‚
â”‚  HTML + CSS + JavaScript + WebSocket    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI                    â”‚
â”‚        RESTful API + WebSocket          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SQLAlchemy ORM               â”‚
â”‚        è³‡æ–™åº«æŠ½è±¡å±¤ + æŸ¥è©¢å„ªåŒ–            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SQLite Database                 â”‚
â”‚      é—œè¯å¼è³‡æ–™åº« + äº‹å‹™ç®¡ç†             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            YAML Export                  â”‚
â”‚        ROS2æ•´åˆ + è³‡æ–™åŒ¯å‡º              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ğŸ“‹ ç³»çµ±éœ€æ±‚
- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ä½œæ¥­ç³»çµ±**: Windows, macOS, Linux
- **è¨˜æ†¶é«”**: æœ€å°‘ 1GB RAM
- **ç¡¬ç¢Ÿ**: æœ€å°‘ 500MB å¯ç”¨ç©ºé–“

### âš¡ å®‰è£æ­¥é©Ÿ

1. **ä¸‹è¼‰å°ˆæ¡ˆ**
```bash
git clone https://github.com/jimmyhuang921114/user_ineterface.git
cd user_ineterface
git checkout feature/sql-database
```

2. **å®‰è£SQLç‰ˆæœ¬ä¾è³´**
```bash
pip install -r requirements_sql.txt
```

3. **åˆå§‹åŒ–è³‡æ–™åº«**
```bash
cd user_interface
python database.py
```

4. **å•Ÿå‹•SQLç‰ˆæœ¬ç³»çµ±**
```bash
python sql_server.py
```

5. **è¨ªå•ç³»çµ±**
- ä¸»é é¢: http://localhost:8000
- **é†«ç”Ÿå·¥ä½œå°**: http://localhost:8000/doctor.html â­ æ¨è–¦
- **æ•´åˆç®¡ç†**: http://localhost:8000/integrated_medicine_management.html
- APIæ–‡æª”: http://localhost:8000/docs
- è³‡æ–™åº«æª”æ¡ˆ: `./data/hospital_management.db`

---

## ğŸ“– åŠŸèƒ½èªªæ˜

### ğŸ¥ é†«ç”Ÿå·¥ä½œå° (å…¨æ–°è¨­è¨ˆ)
**è¨ªå•åœ°å€**: `http://localhost:8000/doctor.html`

#### ğŸ’Š çµ±ä¸€è—¥ç‰©ç®¡ç†
- **åŒé è¡¨å–®**: åŸºç¤+è©³ç´°è³‡æ–™åœ¨åŒä¸€é é¢
- **AIæç¤ºè©**: ğŸ¤– ç‚ºæ¯ç¨®è—¥ç‰©è¨­å®šæ™ºèƒ½æ¨è–¦æç¤º
- **è‡ªå‹•é—œè¯**: åŸºæœ¬å’Œè©³ç´°è³‡æ–™è‡ªå‹•å»ºç«‹é—œè¯
- **å³æ™‚é©—è­‰**: è¡¨å–®è³‡æ–™å³æ™‚é©—è­‰å’Œæç¤º

#### ğŸ“‹ æ™ºèƒ½è™•æ–¹ç±¤ç³»çµ±
- **è‡ªå‹•ç·¨è™Ÿ**: æ ¹æ“šèº«ä»½è­‰è™Ÿè‡ªå‹•ç”Ÿæˆç—…æ‚£ç·¨è™Ÿ
- **å³æ™‚åº«å­˜**: é¡¯ç¤ºè—¥ç‰©å³æ™‚åº«å­˜å’ŒAIæç¤º
- **æ™ºèƒ½å»ºè­°**: æ ¹æ“šAIæç¤ºè©æä¾›ç”¨è—¥å»ºè­°
- **æ­·å²è¿½è¹¤**: å®Œæ•´çš„è™•æ–¹é–‹ç«‹æ­·å²è¨˜éŒ„

### ğŸ”§ æ•´åˆç®¡ç†ç³»çµ±
**è¨ªå•åœ°å€**: `http://localhost:8000/integrated_medicine_management.html`

#### å››åˆä¸€ç®¡ç†ä»‹é¢:
1. **â• æ–°å¢è—¥ç‰©**: å®Œæ•´çš„çµ±ä¸€è¡¨å–®
2. **ğŸ“¦ åº«å­˜ç®¡ç†**: å¢åŠ /æ¸›å°‘æ•¸é‡ï¼Œæ“ä½œè¨˜éŒ„
3. **ğŸ“‹ è—¥ç‰©æ¸…å–®**: æŸ¥çœ‹ã€ç·¨è¼¯ã€è»Ÿåˆªé™¤
4. **ğŸ©º è™•æ–¹ç®¡ç†**: æŸ¥çœ‹ã€ç·¨è¼¯ã€å–æ¶ˆè™•æ–¹

### ğŸ“Š é€²éšåŠŸèƒ½

#### ğŸ” é«˜ç´šæœå°‹
- **å¤šæ¢ä»¶æœå°‹**: åç¨±ã€åˆ†é¡ã€è£½é€ å•†ç­‰
- **æ¨¡ç³ŠæŸ¥è©¢**: æ”¯æ´éƒ¨åˆ†é—œéµå­—æœå°‹
- **ç¯„åœæœå°‹**: æ•¸é‡ã€æ—¥æœŸç¯„åœæœå°‹
- **çµ„åˆæŸ¥è©¢**: å¤šå€‹æ¢ä»¶çµ„åˆæœå°‹

#### ğŸ“ˆ çµ±è¨ˆåˆ†æ
- **åº«å­˜çµ±è¨ˆ**: å³æ™‚åº«å­˜çµ±è¨ˆå’Œè¶¨å‹¢
- **ä½¿ç”¨åˆ†æ**: è—¥ç‰©ä½¿ç”¨é »ç‡åˆ†æ
- **è™•æ–¹çµ±è¨ˆ**: é†«ç”Ÿè™•æ–¹çµ±è¨ˆ
- **è­¦å‘Šæé†’**: åº«å­˜ä¸è¶³ã€éæœŸæé†’

---

## ğŸ”— APIæ–‡æª” (SQLç‰ˆæœ¬)

### ğŸ’Š è—¥ç‰©ç®¡ç† API
```http
GET    /api/medicine/basic          # ç²å–æ‰€æœ‰åŸºæœ¬è—¥ç‰©
POST   /api/medicine/basic          # å‰µå»ºåŸºæœ¬è—¥ç‰©
GET    /api/medicine/basic/{id}     # ç²å–ç‰¹å®šè—¥ç‰©
PUT    /api/medicine/basic/{id}     # æ›´æ–°è—¥ç‰©è³‡æ–™
DELETE /api/medicine/{name}         # è»Ÿåˆªé™¤è—¥ç‰©

GET    /api/medicine/detailed       # ç²å–æ‰€æœ‰è©³ç´°è—¥ç‰©
POST   /api/medicine/detailed       # å‰µå»ºè©³ç´°è³‡æ–™
POST   /api/medicine/unified        # çµ±ä¸€å‰µå»º(åŸºæœ¬+è©³ç´°)
POST   /api/medicine/adjust-stock   # åº«å­˜èª¿æ•´
```

### ğŸ“‹ è™•æ–¹ç±¤ç®¡ç† API
```http
GET    /api/prescription/           # ç²å–æ‰€æœ‰è™•æ–¹ç±¤
POST   /api/prescription/           # å‰µå»ºæ–°è™•æ–¹ç±¤
DELETE /api/prescription/{id}       # å–æ¶ˆè™•æ–¹ç±¤
```

### ğŸ¤– ROS2æ•´åˆ API
```http
GET    /api/ros2/prescription       # ROS2æ ¼å¼è™•æ–¹è³‡æ–™
POST   /api/export/yaml/sync        # æ‰‹å‹•YAMLåŒæ­¥
```

### ğŸ“Š ç³»çµ±ç®¡ç† API
```http
GET    /api/logs/system            # ç³»çµ±æ“ä½œè¨˜éŒ„
GET    /api/logs/stock             # åº«å­˜ç•°å‹•è¨˜éŒ„
GET    /api/stats/medicines        # è—¥ç‰©çµ±è¨ˆ
GET    /api/stats/prescriptions    # è™•æ–¹çµ±è¨ˆ
```

---

## ğŸ—‚ï¸ å°ˆæ¡ˆçµæ§‹ (SQLç‰ˆæœ¬)

```
é†«é™¢è—¥ç‰©ç®¡ç†ç³»çµ±-SQLç‰ˆæœ¬/
â”œâ”€â”€ user_interface/
â”‚   â”œâ”€â”€ sql_server.py              # SQLç‰ˆæœ¬ä¸»ä¼ºæœå™¨ â­
â”‚   â”œâ”€â”€ database.py                # è³‡æ–™åº«æ¨¡å‹å®šç¾© â­
â”‚   â”œâ”€â”€ yaml_storage.py            # YAMLåŒ¯å‡ºæ¨¡çµ„
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ hospital_management.db # SQLiteè³‡æ–™åº« â­
â”‚   â”‚   â”œâ”€â”€ basic_medicines.yaml   # YAMLåŒ¯å‡ºæª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ detailed_medicines.yaml
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ html/                  # å‰ç«¯é é¢
â”‚       â”œâ”€â”€ css/                   # æ¨£å¼è¡¨
â”‚       â””â”€â”€ js/                    # JavaScripté‚è¼¯
â”œâ”€â”€ ros2_packages/                 # ROS2æ•´åˆå¥—ä»¶
â”œâ”€â”€ requirements_sql.txt           # SQLç‰ˆæœ¬ä¾è³´ â­
â”œâ”€â”€ README_SQL.md                  # SQLç‰ˆæœ¬èªªæ˜ â­
â””â”€â”€ alembic.ini                    # è³‡æ–™åº«é·ç§»è¨­å®š
```

---

## ğŸ”„ è³‡æ–™åº«é·ç§»

### ğŸ“¦ Alembicè¨­å®š
```bash
# åˆå§‹åŒ–é·ç§»ç’°å¢ƒ
alembic init alembic

# ç”Ÿæˆé·ç§»è…³æœ¬
alembic revision --autogenerate -m "Add prompt field to medicines"

# åŸ·è¡Œé·ç§»
alembic upgrade head

# å›é€€é·ç§»
alembic downgrade -1
```

### ğŸ’¾ è³‡æ–™å‚™ä»½èˆ‡é‚„åŸ
```bash
# å‚™ä»½è³‡æ–™åº«
cp data/hospital_management.db data/backup_$(date +%Y%m%d_%H%M%S).db

# é‚„åŸè³‡æ–™åº«
cp data/backup_20241212_143000.db data/hospital_management.db
```

---

## ğŸ†š ç‰ˆæœ¬æ¯”è¼ƒ

| åŠŸèƒ½ç‰¹è‰² | JSONç‰ˆæœ¬ | SQLç‰ˆæœ¬ â­ |
|---------|----------|-----------|
| **è³‡æ–™å„²å­˜** | JSONæª”æ¡ˆ | SQLiteè³‡æ–™åº« |
| **è³‡æ–™é—œè¯** | æ‰‹å‹•ç¶­è­· | è‡ªå‹•Foreign Key |
| **æŸ¥è©¢æ•ˆèƒ½** | ç·šæ€§æœå°‹ | ç´¢å¼•å„ªåŒ–æŸ¥è©¢ |
| **äº¤æ˜“å®‰å…¨** | âŒ | âœ… ACIDç‰¹æ€§ |
| **æ­·å²è¨˜éŒ„** | åŸºæœ¬ | å®Œæ•´æ“ä½œæ—¥èªŒ |
| **å‚™ä»½é‚„åŸ** | æª”æ¡ˆè¤‡è£½ | å°ˆæ¥­è³‡æ–™åº«å·¥å…· |
| **æ“´å±•æ€§** | æœ‰é™ | é«˜åº¦å¯æ“´å±• |
| **è¤‡é›œæŸ¥è©¢** | âŒ | âœ… SQLå¼·å¤§æŸ¥è©¢ |
| **è³‡æ–™å®Œæ•´æ€§** | æ‰‹å‹•æª¢æŸ¥ | ç´„æŸè‡ªå‹•æª¢æŸ¥ |
| **ä¸¦ç™¼è™•ç†** | æœ‰é™ | å®Œæ•´ä¸¦ç™¼æ”¯æ´ |

---

## ğŸ”§ é–‹ç™¼æŒ‡å—

### ğŸ§ª æ¸¬è©¦
```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
pytest

# é‹è¡Œç‰¹å®šæ¸¬è©¦
pytest tests/test_database.py

# æ¸¬è©¦è¦†è“‹ç‡
pytest --cov=user_interface
```

### ğŸ› é™¤éŒ¯
```bash
# é–‹å•ŸSQLæŸ¥è©¢æ—¥èªŒ
export SQLALCHEMY_ECHO=True

# æª¢æŸ¥è³‡æ–™åº«ç‹€æ…‹
python -c "from database import init_database; init_database()"
```

### ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–
```python
# æŸ¥è©¢å„ªåŒ–ç¯„ä¾‹
from sqlalchemy import text

# ä½¿ç”¨ç´¢å¼•
medicines = session.query(MedicineBasic).filter(
    MedicineBasic.name.like('%aspirin%')
).all()

# é è¼‰å…¥é—œè¯è³‡æ–™
medicines = session.query(MedicineBasic).options(
    joinedload(MedicineBasic.detailed_info)
).all()
```

---

## ğŸ“ æ›´æ–°è¨˜éŒ„

### v2.1.0 (SQLç‰ˆæœ¬) â­ ç•¶å‰ç‰ˆæœ¬
- **ğŸ—„ï¸ å®Œæ•´SQLè³‡æ–™åº«**: SQLite/PostgreSQL/MySQLæ”¯æ´
- **ğŸ¤– AIæç¤ºè©åŠŸèƒ½**: æ¯ç¨®è—¥ç‰©å¯è¨­å®šAIæ¨è–¦æç¤º
- **ğŸ“Š æ­·å²è¨˜éŒ„è¿½è¹¤**: å®Œæ•´çš„æ“ä½œå’Œåº«å­˜ç•°å‹•è¨˜éŒ„
- **ğŸ”’ ä¼æ¥­ç´šå®‰å…¨**: IPè¿½è¹¤ã€æ“ä½œæ—¥èªŒã€è³‡æ–™é©—è­‰
- **âš¡ æ•ˆèƒ½å„ªåŒ–**: ç´¢å¼•å„ªåŒ–ã€æŸ¥è©¢å¿«å–ã€ä¸¦ç™¼è™•ç†
- **ğŸ” é«˜ç´šæœå°‹**: å¤šæ¢ä»¶çµ„åˆæŸ¥è©¢ã€æ¨¡ç³Šæœå°‹
- **ğŸ“ˆ çµ±è¨ˆåˆ†æ**: åº«å­˜è¶¨å‹¢ã€ä½¿ç”¨çµ±è¨ˆã€å ±è¡¨ç”Ÿæˆ
- **ğŸ’¾ å°ˆæ¥­å‚™ä»½**: è³‡æ–™åº«å‚™ä»½é‚„åŸã€é·ç§»å·¥å…·

### v2.0.0 (JSONç‰ˆæœ¬)
- åŸºç¤JSONæª”æ¡ˆå„²å­˜
- çµ±ä¸€è—¥ç‰©è¡¨å–®
- ROS2æ•´åˆ
- WebSocketå³æ™‚æ›´æ–°

---

## ğŸ¤ è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿å„ç¨®å½¢å¼çš„è²¢ç»ï¼

### ğŸ› å ±å‘Šå•é¡Œ
- ä½¿ç”¨GitHub Issueså ±å‘Šbug
- æä¾›è©³ç´°çš„éŒ¯èª¤è¨Šæ¯å’Œé‡ç¾æ­¥é©Ÿ

### ğŸ’¡ åŠŸèƒ½å»ºè­°
- åœ¨Issuesä¸­æå‡ºåŠŸèƒ½è«‹æ±‚
- èªªæ˜ä½¿ç”¨å ´æ™¯å’Œé æœŸæ•ˆæœ

### ğŸ”§ ç¨‹å¼ç¢¼è²¢ç»
1. Forkæ­¤å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•ŸPull Request

---

## ğŸ“ æ”¯æ´èˆ‡è¯çµ¡

- **GitHub**: [å°ˆæ¡ˆé é¢](https://github.com/jimmyhuang921114/user_ineterface)
- **Issues**: [å•é¡Œå›å ±](https://github.com/jimmyhuang921114/user_ineterface/issues)
- **åˆ†æ”¯**: `feature/sql-database` (SQLç‰ˆæœ¬)
- **ä¸»åˆ†æ”¯**: `cursor/git-afed` (JSONç‰ˆæœ¬)

---

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

**ğŸ¥ é†«é™¢è—¥ç‰©ç®¡ç†ç³»çµ± - SQLç‰ˆæœ¬ï¼Œç‚ºç¾ä»£é†«ç™‚æä¾›å°ˆæ¥­çš„æ•¸ä½åŒ–è§£æ±ºæ–¹æ¡ˆï¼**