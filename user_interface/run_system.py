#!/usr/bin/env python3 """  -  Hospital Medicine Management System - Quick Start Script """ import subprocess import sys import time import requests import os from pathlib import Path def check_dependencies(): """""" print(" ...") required_packages = ['fastapi', 'uvicorn', 'requests'] missing_packages = [] for package in required_packages: try: __import__(package) print(f" : {package}") except ImportError: missing_packages.append(package) print(f" : {package} ()") if missing_packages: print(f"\n : {', '.join(missing_packages)}") try: subprocess.check_call([ sys.executable, '-m', 'pip', 'install', '--break-system-packages' ] + missing_packages) print(" : ") except subprocess.CalledProcessError: print(" : ") return False return True def start_server(): """""" print("\n ...") #  script_dir = Path(__file__).parent os.chdir(script_dir) try: #  process = subprocess.Popen([ sys.executable, 'hospital_server.py' ], stdout=subprocess.PIPE, stderr=subprocess.PIPE) print("‚è≥ ...") time.sleep(5) #  try: response = requests.get('http://localhost:8000/api/test', timeout=5) if response.status_code == 200: print(" : ") print_access_info() return process else: print(f" : : {response.status_code}") except requests.exceptions.RequestException as e: print(f" : : {e}") #  process.terminate() return None except Exception as e: print(f" : : {e}") return None def print_access_info(): """""" print("\n" + "="*60) print(" ") print("="*60) print(" :") print(" : http://localhost:8000/") print(" : http://localhost:8000/Medicine.html") print(" : http://localhost:8000/Prescription.html") print(" : http://localhost:8000/doctor.html") print(" API: http://localhost:8000/docs") print("\n API:") print(" : http://localhost:8000/api/test") print(" : http://localhost:8000/api/medicine/") print(" JSON: http://localhost:8000/api/medicine/export/json") print("\n : :") print(" : ") print(" : ") print(" : JSON") print(" : ") print(" : ") print("="*60) def test_system(): """""" print("\n ...") tests = [ ("", "http://localhost:8000/api/test"), ("", "http://localhost:8000/api/medicine/"), ("JSON", "http://localhost:8000/api/medicine/export/json") ] for test_name, url in tests: try: response = requests.get(url, timeout=5) if response.status_code == 200: print(f" : {test_name}: ") else: print(f" : {test_name}:  ({response.status_code})") except Exception as e: print(f" : {test_name}:  ({e})") def main(): """""" print("  - ") print("Hospital Medicine Management System") print("="*50) #  if not check_dependencies(): print(" : ") sys.exit(1) #  server_process = start_server() if server_process: #  test_system() print("\n ") print(" :  Ctrl+C ") try: #  server_process.wait() except KeyboardInterrupt: print("\n ...") server_process.terminate() print(" ") else: print(" : ") sys.exit(1) if __name__ == "__main__": main()