const statusOptions = ["待處理", "處理中", "已完成"]; let patientList = []; function fetchPatientListFromBackend() { // patientList = [ // { // name: "John Doe", // id: "A", // sex: "Male", // prescription: [ // ["Paracetamol", "mL", "x/day"], // ["Ibuprofen", "mL", "x/day"], // ["Cough Syrup", "tablets", "x/day"] // ], // picked_state: "", // collected_state: "", // created_at: "-- :" // }, // { // name: "Jane Smith", // id: "B", // sex: "Female", // prescription: [ // ["Amoxicillin", "mL", "every h"], // ["Vitamin D", "", "x/day"], // ["Antihistamine", "mL", "x/day"] // ], // picked_state: "", // collected_state: "", // created_at: "-- :" // }, // { // name: "Alice Chen", // id: "C", // sex: "Female", // prescription: [ // ["Vitamin C", "mL", "x/day"], // ["Zinc", "mL", "x/day"], // ["Probiotic", " cap", "x/day"] // ], // picked_state: "", // collected_state: "", // created_at: "-- :" // } // ]; renderTable(); } function renderTable() { const tbody = document.querySelector("patientTable tbody"); tbody.innerHTML = ""; patientList.forEach((p) => { const tr = document.createElement("tr"); const prescriptionDetails = ` <details>         <summary>查看處方詳細</summary> <ul> ${p.prescription.map( d => `<li>${d[]} - ${d[]} - ${d[]}</li>` ).join("")} </ul> </details> `; tr.innerHTML = ` <td>${p.name}</td> <td>${p.id}</td> <td>${p.sex}</td> <td>${prescriptionDetails}</td> <td>${p.picked_state}</td> <td>${p.collected_state}</td> <td>${p.created_at}</td> `; tbody.appendChild(tr); }); } function showDetails(index) { const p = patientList[index]; const msg = `${p.name} \n` + p.prescription.map( d => `- ${d[]} (${d[]}, ${d[]})` ).join("\n"); alert(msg); } document.addEventListener("DOMContentLoaded", fetchPatientListFromBackend);