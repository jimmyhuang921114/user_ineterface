2025-08-06 15:47:50,931 - hospital_system - INFO - 📊 資料庫已有 16 種藥物，跳過樣本資料初始化
2025-08-06 15:47:50,953 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-06 16:02:59,907 - hospital_system - INFO - 📊 資料庫已有 16 種藥物，跳過樣本資料初始化
2025-08-06 16:02:59,929 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-06 16:03:22,926 - hospital_system - INFO - 📊 資料庫已有 16 種藥物，跳過樣本資料初始化
2025-08-06 16:03:22,949 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-06 16:03:26,600 - hospital_system - INFO - 💓 系統健康檢查請求
2025-08-06 16:03:26,600 - hospital_system - INFO - 💓 健康檢查結果: {'status': 'healthy', 'message': '系統運行正常', 'ros2_status': 'unavailable'}
2025-08-06 16:03:31,053 - hospital_system - INFO - 🔍 開始獲取基本藥物列表
2025-08-06 16:03:31,056 - hospital_system - DEBUG - 📊 資料庫查詢結果: 找到 16 種藥物
2025-08-06 16:03:31,056 - hospital_system - INFO - ✅ 基本藥物列表構建完成，共 16 種藥物
2025-08-06 16:03:31,056 - hospital_system - DEBUG - ❌ ROS2不可用，跳過資料發布
2025-08-06 16:03:41,605 - hospital_system - INFO - 📋 開始創建新處方籤
2025-08-06 16:03:41,605 - hospital_system - DEBUG - 📋 接收到的處方數據: {'patient_name': '測試病患', 'patient_id': 'P123456789', 'doctor_name': '測試醫生', 'diagnosis': '測試診斷', 'medicines': [['普拿疼', '500mg', '30', '每日三次'], ['阿斯匹靈', '100mg', '20', '每日兩次']]}
2025-08-06 16:03:41,605 - hospital_system - INFO - 💊 處方包含 2 種藥物
2025-08-06 16:03:41,620 - hospital_system - INFO - ✅ 處方籤基本資料已創建，ID: 22
2025-08-06 16:03:41,621 - hospital_system - DEBUG - 💊 處理第 1 個藥物: ['普拿疼', '500mg', '30', '每日三次']
2025-08-06 16:03:41,621 - hospital_system - DEBUG - 💊 藥物詳情 - 名稱: 普拿疼, 劑量: 500mg, 數量: 30, 頻率: 每日三次
2025-08-06 16:03:41,622 - hospital_system - DEBUG - ✅ 藥物 普拿疼 已加入處方籤
2025-08-06 16:03:41,622 - hospital_system - DEBUG - 💊 處理第 2 個藥物: ['阿斯匹靈', '100mg', '20', '每日兩次']
2025-08-06 16:03:41,622 - hospital_system - DEBUG - 💊 藥物詳情 - 名稱: 阿斯匹靈, 劑量: 100mg, 數量: 20, 頻率: 每日兩次
2025-08-06 16:03:41,623 - hospital_system - DEBUG - ✅ 藥物 阿斯匹靈 已加入處方籤
2025-08-06 16:03:41,625 - hospital_system - INFO - ✅ 處方籤創建完成，共添加 2 種藥物
2025-08-06 16:03:41,626 - hospital_system - DEBUG - ❌ ROS2不可用，跳過訂單創建
2025-08-06 16:04:09,035 - hospital_system - INFO - 🔍 開始獲取基本藥物列表
2025-08-06 16:04:09,039 - hospital_system - DEBUG - 📊 資料庫查詢結果: 找到 16 種藥物
2025-08-06 16:04:09,039 - hospital_system - INFO - ✅ 基本藥物列表構建完成，共 16 種藥物
2025-08-06 16:04:09,039 - hospital_system - DEBUG - ❌ ROS2不可用，跳過資料發布
2025-08-06 16:18:46,475 - hospital_system - INFO - 📊 資料庫已有 16 種藥物，跳過樣本資料初始化
2025-08-06 16:18:46,475 - ros2_mock - INFO - 🚀 啟動模擬ROS2整合...
2025-08-06 16:18:46,476 - ros2_mock - INFO - 🤖 初始化模擬ROS2節點...
2025-08-06 16:18:46,476 - ros2_mock - INFO - ✅ 模擬ROS2節點初始化完成
2025-08-06 16:18:46,476 - ros2_mock - INFO - ✅ 模擬ROS2整合啟動成功
2025-08-06 16:18:46,497 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-06 16:19:02,498 - hospital_system - INFO - 📊 資料庫已有 16 種藥物，跳過樣本資料初始化
2025-08-06 16:19:02,498 - ros2_mock - INFO - 🚀 啟動模擬ROS2整合...
2025-08-06 16:19:02,498 - ros2_mock - INFO - 🤖 初始化模擬ROS2節點...
2025-08-06 16:19:02,498 - ros2_mock - INFO - ✅ 模擬ROS2節點初始化完成
2025-08-06 16:19:02,498 - ros2_mock - INFO - ✅ 模擬ROS2整合啟動成功
2025-08-06 16:19:02,517 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-06 16:19:10,046 - hospital_system - INFO - 💓 系統健康檢查請求
2025-08-06 16:19:10,046 - hospital_system - INFO - 💓 健康檢查結果: {'status': 'healthy', 'message': '系統運行正常', 'ros2_status': 'mock', 'ros2_mode': 'mock'}
2025-08-06 16:19:16,721 - hospital_system - INFO - 📋 開始創建新處方籤
2025-08-06 16:19:16,721 - hospital_system - DEBUG - 📋 接收到的處方數據: {'patient_name': '測試病患', 'patient_id': 'P987654321', 'doctor_name': '測試醫生', 'diagnosis': '測試診斷', 'medicines': [['普拿疼', '500mg', '30', '每日三次'], ['阿斯匹靈', '100mg', '20', '每日兩次']]}
2025-08-06 16:19:16,721 - hospital_system - INFO - 💊 處方包含 2 種藥物
2025-08-06 16:19:16,728 - hospital_system - INFO - ✅ 處方籤基本資料已創建，ID: 23
2025-08-06 16:19:16,728 - hospital_system - DEBUG - 💊 處理第 1 個藥物: ['普拿疼', '500mg', '30', '每日三次']
2025-08-06 16:19:16,728 - hospital_system - DEBUG - 💊 藥物詳情 - 名稱: 普拿疼, 劑量: 500mg, 數量: 30, 頻率: 每日三次
2025-08-06 16:19:16,730 - hospital_system - DEBUG - ✅ 藥物 普拿疼 已加入處方籤
2025-08-06 16:19:16,730 - hospital_system - DEBUG - 💊 處理第 2 個藥物: ['阿斯匹靈', '100mg', '20', '每日兩次']
2025-08-06 16:19:16,730 - hospital_system - DEBUG - 💊 藥物詳情 - 名稱: 阿斯匹靈, 劑量: 100mg, 數量: 20, 頻率: 每日兩次
2025-08-06 16:19:16,730 - hospital_system - DEBUG - ✅ 藥物 阿斯匹靈 已加入處方籤
2025-08-06 16:19:16,733 - hospital_system - INFO - ✅ 處方籤創建完成，共添加 2 種藥物
2025-08-06 16:19:16,735 - hospital_system - INFO - 📡 ROS2可用，準備創建訂單
2025-08-06 16:19:16,735 - ros2_mock - INFO - 📦 訂單已加入佇列: ORDER_0023
2025-08-06 16:19:16,735 - ros2_mock - DEBUG - 📦 訂單詳情: {
  "order_id": "ORDER_0023",
  "prescription_id": 23,
  "patient_name": "測試病患",
  "patient_id": "P987654321",
  "doctor_name": "測試醫生",
  "diagnosis": "測試診斷",
  "status": "pending",
  "created_at": "2025-08-06 16:19:16",
  "timestamp": 1754497156.7352552
}
2025-08-06 16:19:16,735 - hospital_system - INFO - 📡 ROS2訂單已創建: ORDER_0023
2025-08-06 16:19:17,500 - ros2_mock - INFO - 🤖 開始處理訂單: ORDER_0023
2025-08-06 16:19:17,500 - ros2_mock - INFO - 🤖 驗證處方籤中...
2025-08-06 16:19:19,500 - ros2_mock - INFO - 🤖 定位藥物中...
2025-08-06 16:19:22,500 - ros2_mock - INFO - 🤖 移動機器人中...
2025-08-06 16:19:26,500 - ros2_mock - INFO - 🤖 分配藥物中...
2025-08-06 16:19:31,501 - ros2_mock - INFO - 🤖 包裝藥物中...
2025-08-06 16:19:34,501 - ros2_mock - INFO - 🤖 品質檢查中...
2025-08-06 16:19:36,501 - ros2_mock - INFO - ✅ 訂單處理完成
